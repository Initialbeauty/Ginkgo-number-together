<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<title></title>
		<meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">

		<link rel="stylesheet" href="../css/mui.min.css">
	    <link rel="stylesheet" href="../css/pubic.css" />
	    <link rel="stylesheet" href="../css/agent/balance.css" />
	</head>

	<body>
		<!--头部-->
		<div class="menu">
			<ul class="menu-ul">
				<li><span class="menu-title">余额明细</span></span></li>
			</ul>
		</div>
		<!--下拉刷新容器-->
		<div id="pullrefresh" class="mui-content mui-scroll-wrapper">
			<div class="mui-scroll">
				<!--数据列表-->
				<ul class="mui-table-view mui-table-view-chevron">
					<li class="mui-row">
						<div class="mui-col-xs-1">
							<img src="../images/client-j.gif" />
						</div>
						<div class="mui-col-xs-9 user-div">
							<p class="user-name">用户123</p>
						</div>
						<div class="mui-col-xs-2 user-money">+5.00</div>
					</li>
					<li class="mui-row">
						<div class="mui-col-xs-1">
							<img src="../images/client-j.gif" />
						</div>
						<div class="mui-col-xs-9 user-div">
							<p class="user-name">用户123</p>
						</div>
						<div class="mui-col-xs-2 user-money">+5.00</div>
					</li>
					<li class="mui-row">
						<div class="mui-col-xs-1">
							<img src="../images/client-j.gif" />
						</div>
						<div class="mui-col-xs-9 user-div">
							<p class="user-name">用户123</p>
						</div>
						<div class="mui-col-xs-2 user-money">+5.00</div>
					</li>
					<li class="mui-row">
						<div class="mui-col-xs-1">
							<img src="../images/client-j.gif" />
						</div>
						<div class="mui-col-xs-9 user-div">
							<p class="user-name">用户123</p>
						</div>
						<div class="mui-col-xs-2 user-money">+5.00</div>
					</li>
					<li class="mui-row">
						<div class="mui-col-xs-1">
							<img src="../images/client-j.gif" />
						</div>
						<div class="mui-col-xs-9 user-div">
							<p class="user-name">用户123</p>
						</div>
						<div class="mui-col-xs-2 user-money">+5.00</div>
					</li>
					<li class="mui-row">
						<div class="mui-col-xs-1">
							<img src="../images/client-j.gif" />
						</div>
						<div class="mui-col-xs-9 user-div">
							<p class="user-name">用户123</p>
						</div>
						<div class="mui-col-xs-2 user-money">+5.00</div>
					</li>
					<li class="mui-row">
						<div class="mui-col-xs-1">
							<img src="../images/client-j.gif" />
						</div>
						<div class="mui-col-xs-9 user-div">
							<p class="user-name">用户123</p>
						</div>
						<div class="mui-col-xs-2 user-money">+5.00</div>
					</li>
					<li class="mui-row">
						<div class="mui-col-xs-1">
							<img src="../images/client-j.gif" />
						</div>
						<div class="mui-col-xs-9 user-div">
							<p class="user-name">用户123</p>
						</div>
						<div class="mui-col-xs-2 user-money">+5.00</div>
					</li>
					<li class="mui-row">
						<div class="mui-col-xs-1">
							<img src="../images/client-j.gif" />
						</div>
						<div class="mui-col-xs-9 user-div">
							<p class="user-name">用户123</p>
						</div>
						<div class="mui-col-xs-2 user-money">+5.00</div>
					</li>
				</ul>
			</div>
		</div>
		<script src="../js/mui.min.js"></script>
		<script type="text/javascript" src="../js/jquery-1.12.4.js" ></script>
		<script>
			mui.init({
				pullRefresh: {
					container: '#pullrefresh',
					down: {
						callback: pulldownRefresh
					},
//					up: {
//						contentrefresh: '正在加载...',
//						callback: pullupRefresh
//					}
				}
			});
			/**
			 * 下拉刷新具体业务实现
			 */
			function pulldownRefresh() {
				setTimeout(function() {
					var table = document.body.querySelector('.mui-table-view');
					var cells = document.body.querySelectorAll('.mui-table-view-cell');
					var li = document.createElement('li');
						li.className = 'mui-row';
						li.innerHTML = `
								<div class="mui-col-xs-1">
									<img src="../images/client-j.gif" />
								</div>
								<div class="mui-col-xs-9 user-div">
									<p class="user-name">用户123</p>
								</div>
								<div class="mui-col-xs-2 user-money">+6.00</div>
						`
						//下拉刷新，新纪录插到后面；
						table.append(li)
					mui('#pullrefresh').pullRefresh().endPulldownToRefresh(); //refresh completed
				}, 1500);
			}
			
			$(function(){
				//设置div位置
				var divWidth=$("body").width();
				var pWidth=$(window).width();
				var divMargin=(pWidth-divWidth)/2;
				$("#pullrefresh").width(divWidth+"px");
				$("#pullrefresh").css("margin-left",divMargin);
				
				$(window).resize(function(){
					var divWidth=$("body").width();
					var pWidth=$(window).width();
					var divMargin=(pWidth-divWidth)/2;
					$("#pullrefresh").width(divWidth+"px");
					$("#pullrefresh").css("margin-left",divMargin);
				})
			})
		</script>
	</body>

</html>